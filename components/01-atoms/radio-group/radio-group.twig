{#
/**
 * @file
 * Radio group component.
 *
 * Variables:
 * - theme: [string] Theme: light, dark.
 * - has_error: [boolean] Error state.
 * - is_disabled: [boolean] Disabled state.
 * - direction: [string] Direction: horizontal, vertical.
 * - for: [string] Which component this label belongs to.
 * - items: [array] Array of children items:
 *   - name: [string] DOM name.
 *   - content: [string] Input field label.
 *   - value: [string] Input field value.
 *   - is_disabled: [boolean] Disabled state.
 *   - is_required: [boolean] Required state.
 *   - has_error: [boolean] Error state.
 * - attributes: [string] Additional attributes.
 * - modifier_class: [string] Additional classes.
 */
#}

{% set theme_class = 'ct-theme-%s'|format(theme|default('light')) %}
{% set direction_class = 'ct-radio-group--%s'|format(direction|default('vertical')) %}
{% set disabled_class = is_disabled ? 'ct-radio-group--disabled' : '' %}
{% set error_class = has_error ? 'ct-radio-group--error' : '' %}
{% set modifier_class = '%s %s %s %s %s'|format(theme_class, direction_class, disabled_class, error_class, modifier_class|default(''))|trim %}

{% if items is not empty %}
  {% set list_items = [] %}
  {% for key, item in items %}
    {% set list_item %}
      {% set item = {theme: theme, is_disabled: is_disabled, has_error: has_error, content: content, value: value, name: name, for: for ~ '-' ~ key}|merge(item) %}
      {% include '@atoms/radio/radio.twig' with item only %}
    {% endset %}
    {% set list_items = list_items|merge([list_item]) %}
  {% endfor %}

  <div class="ct-radio-group {{ modifier_class }}" {% if attributes %}{{ attributes|raw }}{% endif %}>
    {% include '@base/item-list/item-list.twig' with {
      direction: direction,
      items: list_items,
    } only %}
  </div>
{% endif %}
