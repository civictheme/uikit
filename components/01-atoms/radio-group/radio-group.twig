{#
/**
 * @file
 * Radio group component.
 *
 * Variables:
 * - theme: [string] Theme: light, dark.
 * - is_invalid: [boolean] Error state.
 * - is_disabled: [boolean] Disabled state.
 * - is_inline: [boolean] Denotes if the direction is horizontal or vertical.
 * - id: [string] Which component this label belongs to.
 * - items: [array] Array of children items:
 *   - name: [string] DOM name.
 *   - label: [string] Input field label.
 *   - value: [string] Input field value.
 *   - is_disabled: [boolean] Disabled state.
 *   - is_required: [boolean] Required state.
 *   - is_invalid: [boolean] Error state.
 * - attributes: [string] Additional attributes.
 * - modifier_class: [string] Additional classes.
 */
#}

{% set theme_class = 'ct-theme-%s'|format(theme|default('light')) %}
{% set is_inline = is_inline|default(false) %}
{% set is_inline_class = is_inline ? 'ct-radio-group--inline' %}
{% set disabled_class = is_disabled ? 'ct-radio-group--disabled' : '' %}
{% set error_class = is_invalid ? 'ct-radio-group--error' : '' %}
{% set modifier_class = '%s %s %s %s %s'|format(theme_class, is_inline_class, disabled_class, error_class, modifier_class|default(''))|trim %}

{% if items is not empty %}
  {% set list_items = [] %}
  {% for key, item in items %}
    {% set list_item %}
      {% set item = {theme: theme, is_disabled: is_disabled, is_invalid: is_invalid, label: label, value: value, name: name, id: id ~ '-' ~ key}|merge(item) %}
      {% include '@atoms/radio/radio.twig' with item only %}
    {% endset %}
    {% set list_items = list_items|merge([list_item]) %}
  {% endfor %}

  <div class="ct-radio-group {{ modifier_class }}" {% if attributes %}{{ attributes|raw }}{% endif %}>
    {% include '@base/item-list/item-list.twig' with {
      direction: is_inline ? 'horizontal' : 'vertical',
      items: list_items,
    } only %}
  </div>
{% endif %}
